<div class="theme-container grow">
    <div class="container" style="width: 95%">
        <div class="header">
            <div class="row">
                <div class="col-sm-3">
                    <h1 class="text-muted nav"><a href="/">eugeneyan</a></h1>
                </div>
                <div class="col-sm-9">
                    <ul id="nav" class="nav-margin nav nav-pills float-sm-right">
                        <li><a href="/start-here/" title="Start Here">Start Here</a></li>
                        <li><a href="/writing/" title="Writing">Writing</a></li>
                        <li><a href="/speaking/" title="Speaking">Speaking</a></li>
                        <li><a href="/prototyping/" title="Prototyping">Prototyping</a></li>
                        <li><a href="/about/" title="About">About</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="notes">
            <div class="note single">
                <h1 class="title">Prompting Fundamentals and How to Apply them Effectively</h1>
                <p class="date">
                    <info datetime="2024-05-26 00:00:00 +0000">
                        <span class="no-italics">[
                            <a class="tag" href="/tag/llm/">llm</a>
                            <a class="tag" href="/tag/production/">production</a>
                            ]
                        </span> · 17 min read
                    </info>
                </p>

                <div class="notebody">
                    <p>Writing good prompts is the most straightforward way to get value out of large language models
                        (LLMs). However, it’s important to understand the fundamentals even as we apply advanced
                        techniques and prompt optimization tools. For example, there’s more to Chain-of-Thought (CoT)
                        than simply adding “think step by step”. Here, we’ll discuss some prompting fundamentals to help
                        you get the most out of LLMs.</p>
                    <p>Aside: We should know by now that, before doing any major prompt engineering, we need reliable
                        evals. Without evals, how would we measure improvements or regressions? Here’s my usual
                        workflow: (i) manually label ~100 eval examples, (ii) write initial prompt, (iii) run eval, and
                        iterate on prompt and evals, (iv) eval on held-out test set before deployment. Here are
                        write-ups on <a href="/writing/evals/" target="_blank">practical evals for key tasks</a> and <a
                            href="https://hamel.dev/blog/posts/evals/" target="_blank">how to build evals with a case
                            study</a>.</p>
                    <p>We’ll use the <a href="https://docs.anthropic.com/en/api/messages-examples"
                            target="_blank">Claude Messages API</a> for the prompt and code examples below. The prompts
                        are deliberately kept simple and can be further optimized. The API provides specific roles for
                        the user and assistant, as well as a system prompt.</p>
                    <div class="language-python highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="kn">import</span> <span class="nn">anthropic</span>


<span class="n">message</span> <span class="o">=</span> <span class="n">anthropic</span><span class="p">.</span><span class="n">Anthropic</span><span class="p">().</span><span class="n">beta</span><span class="p">.</span><span class="n">messages</span><span class="p">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s">"claude-3-sonnet-20240229"</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="n">system</span><span class="o">=</span><span class="s">"Today is 26th May 2024."</span><span class="p">,</span>
	<span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
		<span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"Hello there."</span><span class="p">},</span>
		<span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"assistant"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"Hi, I'm Claude. How can I help?"</span><span class="p">},</span>
		<span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"What is prompt engineering?"</span><span class="p">},</span>
	<span class="p">]</span>
<span class="p">)</span>
</code></pre>
                        </div>
                    </div>
                    <h2 id="mental-model-prompts-as-conditioning">Mental model: Prompts as conditioning<a
                            class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon=""
                            href="#mental-model-prompts-as-conditioning"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>At the risk of oversimplifying, LLMs are essentially sophisticated probabilistic models. Given an
                        input, they generate probable outputs based on patterns learned from data.</p>
                    <p>Thus, at its core, prompt engineering is about <a
                            href="https://fullstackdeeplearning.com/llm-bootcamp/spring-2023/prompt-engineering/"
                            target="_blank">conditioning the probabilistic model</a> to generate our desired output.
                        Thus, each additional instruction or piece of context can be viewed as conditioning that steers
                        the model’s generation in a particular direction. This mental model applies to <a
                            href="/writing/text-to-image/#text-conditioning-influencing-image-output-via-text"
                            target="_blank">image generation</a> too.</p>
                    <p>Consider the prompts below. The first will likely generate a response about Apple the tech
                        company. The second will describe the fruit. And the third will explain the idiom.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt 1
Tell me about: Apple

# Prompt 2
Tell me about: Apple fruit

# Prompt 3
Tell me about: Apple of my eye
</code></pre>
                        </div>
                    </div>
                    <p>By simply adding a few tokens, we have conditioned the model to respond differently. By
                        extension, prompt engineering techniques like n-shot prompting, structured input and output,
                        CoT, etc. are simply more sophisticated ways of conditioning the LLM.</p>
                    <h2 id="assign-roles-and-responsibilities">Assign roles and responsibilities<a
                            class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon=""
                            href="#assign-roles-and-responsibilities"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>One way to condition the model’s output is to assign it a specific role or responsibility. This
                        provides it with context that steers its responses in terms of content, tone, style, etc.</p>
                    <p>Consider the prompts below: Because the assigned roles vary, we can expect very different
                        responses. The preschool teacher will likely respond with simple language and analogies while
                        the NLP professor may dive into the technical details of attention mechanisms.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt 1
You are a preschool teacher. Explain how attention in LLMs works.

# Prompt 2
You are an NLP professor. Explain how attention in LLMs works.
</code></pre>
                        </div>
                    </div>
                    <p>Roles and responsibilities can also improve accuracy on most tasks. Imagine we’re building a
                        system to exclude NSFW image generation prompts. While a basic prompt like prompt 1 might work,
                        we can improve the model’s accuracy by providing it with a role (prompt 2) or responsibility
                        (prompt 3). The additional context in prompts 2 and 3 encourages the LLM to scrutinize the input
                        more carefully, thus increasing recall on more subtle issues.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt 1
Is this image generation prompt safe?

# Prompt 2
Claude, you are an expert content moderator who identifies harmful aspects in prompts.
Is this image generation prompt safe?

# Prompt 3
Claude, you are responsible for identifying harmful aspects in prompts.
Is this image generation prompt safe?
</code></pre>
                        </div>
                    </div>
                    <h2 id="structured-input-and-output">Structured input and output<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#structured-input-and-output"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>Structured input helps the LLM better understand the task and input, improving the quality of
                        output. Structured output makes it easier to parse responses, simplifying integration with
                        downstream systems. For Claude, XML tags work particularly well while other LLMs may prefer
                        Markdown, JSON, etc.</p>
                    <p>In this example, we ask Claude to extract attributes from a product <code
                            class="language-plaintext highlighter-rouge">&lt;description&gt;</code>.</p>
                    <div class="language-xml highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nt">&lt;description&gt;</span>
The SmartHome Mini is a compact smart home assistant available in black or white for 
only $49.99. At just 5 inches wide, it lets you control lights, thermostats, and other 
connected devices via voice or app—no matter where you place it in your home. This 
affordable little hub brings convenient hands-free control to your smart devices.
<span class="nt">&lt;/description&gt;</span>

Extract the <span class="nt">&lt;name&gt;</span>, <span class="nt">&lt;size&gt;</span>, <span class="nt">&lt;price&gt;</span>, and <span class="nt">&lt;color&gt;</span> from this product <span class="nt">&lt;description&gt;</span>.
</code></pre>
                        </div>
                    </div>
                    <p>Claude can reliably follow these explicit instructions and almost always generates output in the
                        requested format.</p>
                    <div class="language-xml highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nt">&lt;name&gt;</span>SmartHome Mini<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;size&gt;</span>5 inches wide<span class="nt">&lt;/size&gt;</span>  
<span class="nt">&lt;price&gt;</span>$49.99<span class="nt">&lt;/price&gt;</span>
<span class="nt">&lt;color&gt;</span>black or white<span class="nt">&lt;/color&gt;</span>
</code></pre>
                        </div>
                    </div>
                    <p>We can scale this to process multiple documents at once. Here’s an example where we provide
                        product reviews as an array of dicts which we then convert to XML input. (While the example only
                        shows three documents, we can increase the input to dozens, if not hundreds of documents).</p>
                    <div class="language-python highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="kn">from</span> <span class="nn">dicttoxml</span> <span class="kn">import</span> <span class="n">dicttoxml</span>
<span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parseString</span>


<span class="k">def</span> <span class="nf">custom_item_func</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">'review'</span>

<span class="n">docs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"reviews"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">"text"</span><span class="p">:</span> <span class="s">"The SmartHome Mini is a compact, powerful, and user-friendly smart 
                     home hub. It offers great value for its price."</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"text"</span><span class="p">:</span> <span class="s">"The SmartHome Mini is a decent entry-level smart home hub, but it 
                     has some connectivity issues and the app needs improvement."</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s">"text"</span><span class="p">:</span> <span class="s">"Despite being affordable and compact, the SmartHome Mini's 
                     performance is disappointing, with poor voice command 
                     interpretation and unreliable device connections."</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Convert the dictionary to XML
</span><span class="n">xml_output</span> <span class="o">=</span> <span class="n">dicttoxml</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">attr_type</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_func</span><span class="o">=</span><span class="n">custom_item_func</span><span class="p">)</span>

<span class="c1"># Parse the XML string
</span><span class="n">dom</span> <span class="o">=</span> <span class="n">parseString</span><span class="p">(</span><span class="n">xml_output</span><span class="p">)</span>

<span class="c1"># Pretty-print the XML with indentation and spaces
</span><span class="n">pretty_xml</span> <span class="o">=</span> <span class="n">dom</span><span class="p">.</span><span class="n">toprettyxml</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="s">"  "</span><span class="p">)</span>

<span class="c1"># Print the pretty-printed XML
</span><span class="k">print</span><span class="p">(</span><span class="n">pretty_xml</span><span class="p">)</span>
</code></pre>
                        </div>
                    </div>
                    <p>This gives us the following <code
                            class="language-plaintext highlighter-rouge">&lt;reviews&gt;</code> XML.</p>
                    <div class="language-xml highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nt">&lt;reviews&gt;</span>
  <span class="nt">&lt;review&gt;</span>
    <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;text&gt;</span>
      The SmartHome Mini is a compact, powerful, and user-friendly smart home hub. It 
      offers great value for its price.
    <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;/review&gt;</span>
  <span class="nt">&lt;review&gt;</span>
    <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;text&gt;</span>
      The SmartHome Mini is a decent entry-level smart home hub, but it has some 
      connectivity issues and the app needs improvement.
    <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;/review&gt;</span>
  <span class="nt">&lt;review&gt;</span>
    <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;text&gt;</span>
      Despite being affordable and compact, the SmartHome Mini's performance is 
      disappointing, with poor voice command interpretation and unreliable 
      device connections.
    <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;/review&gt;</span>
<span class="nt">&lt;/reviews&gt;</span>
</code></pre>
                        </div>
                    </div>
                    <p>We can then prompt Claude to provide a <code
                            class="language-plaintext highlighter-rouge">&lt;summary&gt;</code> of the <code
                            class="language-plaintext highlighter-rouge">&lt;reviews&gt;</code>, with references to the
                        relevant <code class="language-plaintext highlighter-rouge">&lt;id&gt;</code> tags, which gives
                        us the following output.</p>
                    <div class="language-xml highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nt">&lt;summary&gt;</span>
The SmartHome Mini receives mixed reviews. <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span> praises its compact size, power, 
user-friendliness, and value for money. However, <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span> notes connectivity issues 
and room for app improvement, while <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span> finds the performance disappointing 
due to poor voice command interpretation and unreliable device connections.
<span class="nt">&lt;/summary&gt;</span>
</code></pre>
                        </div>
                    </div>
                    <p>We can also prompt it to extract the <code
                            class="language-plaintext highlighter-rouge">&lt;aspect&gt;</code>, <code
                            class="language-plaintext highlighter-rouge">&lt;sentiment&gt;</code>, and corresponding
                        review <code class="language-plaintext highlighter-rouge">&lt;id&gt;</code>, leading to the
                        following:</p>
                    <div class="language-xml highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nt">&lt;aspect&gt;</span>compact size<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>positive<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;aspect&gt;</span>power<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>positive<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;aspect&gt;</span>connectivity<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>negative<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;aspect&gt;</span>app<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>negative<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;aspect&gt;</span>affordability<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>positive<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;aspect&gt;</span>performance<span class="nt">&lt;/aspect&gt;</span> <span class="nt">&lt;sentiment&gt;</span>negative<span class="nt">&lt;/sentiment&gt;</span> <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
</code></pre>
                        </div>
                    </div>
                    <p>Overall, while XML tags make take a bit to get used to, it allows us to provide explicit
                        instructions and fine-grained control over structured input and output.</p>
                    <h2 id="prefill-claudes-responses">Prefill Claude’s responses<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#prefill-claudes-responses"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>Prefilling an LLM’s response is akin to “putting words in its mouth”. For Claude, this guarantees
                        that the generated text will start with the provided tokens (at least in my experience across
                        millions of requests).</p>
                    <p>Here’s how we would do this via Claude’s Messages API, where we prefill the assistant’s response
                        with <code class="language-plaintext highlighter-rouge">&lt;attributes&gt;&lt;name&gt;</code>.
                        This ensures that Claude will start with these exact tokens, and also make it easier to parse
                        the <code class="language-plaintext highlighter-rouge">&lt;attributes&gt;</code> downstream.</p>
                    <div class="language-python highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nb">input</span> <span class="o">=</span> <span class="s">"""
&lt;description&gt;
The SmartHome Mini is a compact smart home assistant available in black or white for 
only $49.99. At just 5 inches wide, it lets you control lights, thermostats, and other 
connected devices via voice or app—no matter where you place it in your home. This 
affordable little hub brings convenient hands-free control to your smart devices.
&lt;/description&gt;

Extract the &lt;name&gt;, &lt;size&gt;, &lt;price&gt;, and &lt;color&gt; from this product &lt;description&gt;.

Return the extracted attributes within &lt;attributes&gt;.
"""</span>

<span class="n">messages</span><span class="o">=</span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span>
        <span class="s">"content"</span><span class="p">:</span> <span class="nb">input</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">"role"</span><span class="p">:</span> <span class="s">"assistant"</span><span class="p">,</span>
        <span class="s">"content"</span><span class="p">:</span> <span class="s">"&lt;attributes&gt;&lt;name&gt;"</span>  <span class="c1"># Prefilled response
</span>    <span class="p">}</span>
<span class="p">]</span>
</code></pre>
                        </div>
                    </div>
                    <h2 id="n-shot-prompting">n-shot prompting<a class="anchorjs-link " aria-label="Anchor"
                            data-anchorjs-icon="" href="#n-shot-prompting"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p><strong>Perhaps the single most effective technique for conditioning an LLM’s response is n-shot
                            prompting.</strong> The idea is to provide the LLM with <em>n</em> examples that demonstrate
                        the task and desired output. This steers the model towards the distribution of the n-shot
                        examples and usually leads to improvements in output quality and consistency.</p>
                    <p>But n-shot prompting is a double-edged sword. If we provide too few examples, say three to five,
                        we risk “overfitting” the model (via <a href="https://arxiv.org/abs/2005.14165"
                            target="_blank">in-context learning</a>) to those examples. As a result, if the input
                        differs from the narrow set of examples, output quality could degrade.</p>
                    <p>I typically have at least a dozen samples or more. Most academic evals use 32-shot or 64-shot
                        prompts. (This is also why I tend not to call this technique few-shot prompting because “few”
                        can be misleading on what it takes to get reliable performance.)</p>
                    <p>We also want to ensure that our n-shots are representative of expected production inputs. If
                        we’re building a system to extract aspects and sentiments from product reviews, we’ll want to
                        include examples from multiple categories such as electronics, fashion, groceries, media, etc.
                        Also, take care to match the distribution of examples to production data. If 80% of production
                        aspects are positive, the n-shot prompt should reflect that too.</p>
                    <div class="language-python highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nb">input</span> <span class="o">=</span> <span class="s">"""
&lt;description&gt;
The SmartHome Mini is a compact smart home assistant available in black or white for 
only $49.99. At just 5 inches wide, it lets you control lights, thermostats, and other 
connected devices via voice or app—no matter where you place it in your home. This 
affordable little hub brings convenient hands-free control to your smart devices.
&lt;/description&gt;

Extract the &lt;name&gt;, &lt;size&gt;, &lt;price&gt;, and &lt;color&gt; from this product &lt;description&gt;.

Here are some &lt;examples&gt; of &lt;description&gt; and extracted &lt;attributes&gt;:
&lt;examples&gt;
&lt;description&gt;
Introducing the sleek and powerful UltraBook Pro laptop ... (truncated)
&lt;/description&gt;
&lt;attributes&gt;
&lt;name&gt;UltraBook Pro&lt;/name&gt;  
&lt;color&gt;silver, space gray&lt;/color&gt;
&lt;size&gt;14" display, 2.8lbs&lt;/size&gt;
&lt;price&gt;$1,299&lt;/price&gt;
&lt;/attributes&gt;

  
&lt;description&gt;
Spark imagination and creativity with the Mega Blocks Construction Set ... (truncated)
&lt;/description&gt;
&lt;attributes&gt;
&lt;name&gt;Mega Blocks Construction Set&lt;/name&gt;
&lt;color&gt;colorful&lt;/color&gt;  
&lt;size&gt;200 pieces&lt;/size&gt;
&lt;price&gt;$24.99&lt;/price&gt;
&lt;/attributes&gt;

&lt;description&gt;
The perfect little black dress for any occasion ... (truncated)
&lt;/description&gt;  
&lt;attributes&gt;
&lt;name&gt;Little Black Sheath Dress&lt;/name&gt;
&lt;color&gt;black&lt;/color&gt;
&lt;size&gt;petite, regular, tall lengths, sizes 2-16&lt;/size&gt;
&lt;price&gt;$89.99&lt;/price&gt;  
&lt;/attributes&gt;

&lt;description&gt;
Stay hydrated on the trail with the HydroFlow Water Bottle ... (truncated)
&lt;/description&gt;
&lt;attributes&gt;  
&lt;name&gt;HydroFlow Water Bottle&lt;/name&gt;
&lt;color&gt;6 colors&lt;/color&gt;
&lt;size&gt;24 oz&lt;/size&gt;
&lt;price&gt;$21.99&lt;/price&gt;  
&lt;/attributes&gt;

&lt;description&gt;
Achieve a flawless complexion with Glow Perfect Foundation ... (truncated)
&lt;/description&gt;
&lt;attributes&gt;
&lt;name&gt;Glow Perfect Foundation&lt;/name&gt;
&lt;color&gt;20 shades&lt;/color&gt;
&lt;size&gt;1 fl oz&lt;/size&gt;
&lt;price&gt;$32&lt;/price&gt;
&lt;/attributes&gt;

(... examples truncated)

&lt;/examples&gt;

Return the &lt;name&gt;, &lt;size&gt;, &lt;price&gt;, and &lt;color&gt; within &lt;attributes&gt;.
"""</span>

<span class="n">messages</span><span class="o">=</span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span>
        <span class="s">"content"</span><span class="p">:</span> <span class="nb">input</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">"role"</span><span class="p">:</span> <span class="s">"assistant"</span><span class="p">,</span>
        <span class="s">"content"</span><span class="p">:</span> <span class="s">"&lt;attributes&gt;&lt;name&gt;"</span>  <span class="c1"># Prefilled response
</span>    <span class="p">}</span>
<span class="p">]</span>
</code></pre>
                        </div>
                    </div>
                    <p>That said, the number of examples needed will vary based on the complexity of the task. For
                        simpler goals such as enforcing output format/structure or response tone, as few as five
                        examples may suffice. In such instances, we may only need to provide the desired output as
                        examples rather than the usual input-output pairs.</p>
                    <h2 id="diving-deeper-into-chain-of-thought">Diving deeper into Chain-of-Thought<a
                            class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon=""
                            href="#diving-deeper-into-chain-of-thought"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>The basic idea of CoT is to give the LLM “space to think” before generating its final output. The
                        intermediate reasoning allows the model to break down the problem and condition its own
                        response, often leading to better results, especially if the task is complex.</p>
                    <p>The standard approach is to simply add the phrase “think step by step”.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code>Claude, you are responsible for accurately summarizing the meeting &lt;transcript&gt;.

&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

Think step by step and return a &lt;summary&gt; of the &lt;transcript&gt;.
</code></pre>
                        </div>
                    </div>
                    <p>However, we can do more to improve the effectiveness of CoT.</p>
                    <p>One idea is to contain the CoT within a designated <code
                            class="language-plaintext highlighter-rouge">&lt;sketchpad&gt;</code>, and then generate the
                        <code class="language-plaintext highlighter-rouge">&lt;summary&gt;</code> based on the
                        sketchpad. This makes it easier to parse the final output and exclude the CoT if needed. To
                        ensure we start with the sketchpad, we can <a href="#prefill-claudes-responses">prefill</a>
                        Claude’s response with the opening <code
                            class="language-plaintext highlighter-rouge">&lt;sketchpad&gt;</code> tag.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code>Claude, you are responsible for accurately summarizing the meeting &lt;transcript&gt;.

&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

Think step by step on how to summarize the &lt;transcript&gt; within the provided &lt;sketchpad&gt;.

Then, return a &lt;summary&gt; based on the &lt;sketchpad&gt;.
</code></pre>
                        </div>
                    </div>
                    <p>Another way to improve CoT is to provide more specific instructions for the reasoning process.
                        For example:</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code>Claude, you are responsible for accurately summarizing the meeting &lt;transcript&gt;.

&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

Think step by step on how to summarize the &lt;transcript&gt; within the provided &lt;sketchpad&gt;.

In the &lt;sketchpad&gt;, return a list of &lt;decision&gt;, &lt;action_item&gt;, and &lt;owner&gt;.

Then, check that &lt;sketchpad&gt; items are factually consistent with the &lt;transcript&gt;.

Finally, return a &lt;summary&gt; based on the &lt;sketchpad&gt;.
</code></pre>
                        </div>
                    </div>
                    <p>By guiding the model to look for specific information and verify its intermediate outputs against
                        the source document, we can significantly improve factual consistency (i.e., reduce
                        hallucination). In some cases, we’ve observed that adding a sentence or two to the CoT prompt
                        removed the majority of hallucinations.</p>
                    <h2 id="split-catch-all-prompts-into-multiple-smaller-ones">Split catch-all prompts into multiple
                        smaller ones<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon=""
                            href="#split-catch-all-prompts-into-multiple-smaller-ones"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>We can sometimes improve performance by refactoring a large, catch-all prompt into several,
                        single-purpose prompts (akin to having small, single responsibility functions). This helps the
                        model focus on only one task at each step, increasing performance at each step and thus, final
                        output quality. While this will increase total input token count, the overall cost need not be
                        higher if we use smaller models for some simpler steps.</p>
                    <p>Here’s how we might split our meeting transcript summarizer above into multiple prompts. First,
                        we’ll use Haiku to extract the decisions, action items, and owners.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt to extract transcript attributes via Haiku
Claude, you are responsible for accurately extracting information from the &lt;transcript&gt;.

&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

From &lt;transcript&gt;, extract a list of &lt;decision&gt;, &lt;action_item&gt;, and &lt;owner&gt;.

Return the list within &lt;extracted_information&gt;.
</code></pre>
                        </div>
                    </div>
                    <p>Then, we can verify that the extracted items are consistent with the transcript via Sonnet.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt to verify extracted attributes via Sonnet
Claude, you are responsible for checking &lt;extracted_information&gt; against a &lt;transcript&gt;.

Here is the meeting transcript:
&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

Here is the extracted information:
&lt;extracted_information&gt;
{extracted_information}
&lt;/extracted_information&gt;

Think step by step and check that the &lt;extracted_information&gt; is factually consistent 
with the &lt;transcript&gt; within the &lt;sketchpad&gt;.

Then, return a list of factually consistent &lt;decision&gt;, &lt;action_item&gt;, and &lt;owner&gt;
within &lt;confirmed_extracted_information&gt;.
</code></pre>
                        </div>
                    </div>
                    <p>Finally, we can use Haiku to format the extracted information.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code># Prompt to rewrite transcript attributes into bulletpoints via Haiku
Claude, you are responsible for converting &lt;information&gt; into bullet-point summaries.

&lt;information&gt;
{confirmed_extracted_information}
&lt;/information&gt;

Rewrite the &lt;information&gt; into bullets for either &lt;decision&gt; or &lt;action item&gt;, with 
the &lt;owner&gt; in parentheses.
</code></pre>
                        </div>
                    </div>
                    <p>As an example, <a href="https://arxiv.org/abs/2401.08500" target="_blank">AlphaCodium</a> shared
                        that by switching from a single direct prompt to a multi-step workflow, they increased gpt-4
                        accuracy (pass@5) on CodeContests from 19% to 44%. Their coding workflow had multiple
                        steps/prompts including:</p>
                    <ul>
                        <li>Reflecting on the problem</li>
                        <li>Reasoning on the public tests</li>
                        <li>Generating possible solutions</li>
                        <li>Ranking possible solutions</li>
                        <li>Generating synthetic tests</li>
                        <li>Iterating on the solution with public and synthetic tests</li>
                    </ul>
                    <h2 id="optimal-placement-context">Optimal placement context<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#optimal-placement-context"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>I’m often asked where to put the document or context within the prompt. For Claude, I’ve found
                        that putting the context near the beginning tends to work best, with a structure like:</p>
                    <ul>
                        <li>Role or responsibility (usually brief)</li>
                        <li>Context/document</li>
                        <li>Specific instructions</li>
                        <li>Prefilled response</li>
                    </ul>
                    <p>This aligns with the role-context-task pattern used in many of Anthropic’s own examples.</p>
                    <p>Nonetheless, the optimal placement may vary across different models depending on how they were
                        trained. If you have reliable evals, it’s worth experimenting with different context locations
                        and measuring the impact on performance.</p>
                    <h2 id="crafting-effective-instructions">Crafting effective instructions<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#crafting-effective-instructions"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>Short, focused sentences separated by new lines tends to work best. I haven’t found other formats
                        like paragraphs, bullet points, or numbered lists to work as well. Nonetheless, the meta on
                        writing instructions is constantly evolving so it’s good to keep an eye on the latest system
                        prompts. Here’s <a href="https://x.com/AmandaAskell/status/1765207842993434880"
                            target="_blank">Claude 3’s system prompt</a>; and here’s <a
                            href="https://x.com/krishnanrohit/status/1755123169353236848" target="_blank">ChatGPT’s</a>.
                    </p>
                    <p>Also, it’s natural to add more and more instructions to our prompts to better handle edge cases
                        and eke out more performance. But just like software, prompts can get bloated over time. Before
                        we know it, our once-simple prompt has grown into a hundred lines. To add injury to insult, the
                        Frankenstein-ed prompt actually performs worse on more common and straightforward inputs! Thus,
                        periodically refactor prompts—just like software—and prune instructions that are no longer
                        needed.</p>
                    <h2 id="dealing-with-hallucinations">Dealing with hallucinations<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#dealing-with-hallucinations"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>This is a tricky one. While some techniques help with hallucinations, none are foolproof. Thus,
                        do not assume that applying these will completely eliminate hallucinations.</p>
                    <p>For tasks involving extraction or question answering, include an instruction that allows the LLM
                        to say “I don’t know” or “Not applicable”. Additionally, try instructing the model to only
                        provide an answer if it’s highly confident. Here’s an example:</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code>Claude, answer the following question based on the provided &lt;context&gt;.

&lt;context&gt;
{context}
&lt;/context&gt;

If the question CANNOT be answered based on the &lt;context&gt;, respond with "I don't know".

Only provide an answer if you are highly confident it is factually correct.

Question: {question}

Answer:
</code></pre>
                        </div>
                    </div>
                    <p>For tasks that involve more reasoning, CoT can help reduce hallucinations. By providing a <code
                            class="language-plaintext highlighter-rouge">&lt;sketchpad&gt;</code> for the model to think
                        and check its intermediate output before providing the final answer, we can improve the factual
                        grounding of the output. The previous example of summarizing meeting transcripts (reproduced
                        below) is a good example.</p>
                    <div class="language-plaintext highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code>Claude, you are responsible for summarizing meeting &lt;transcripts&gt;.

&lt;transcript&gt;
{transcript}
&lt;/transcript&gt;

Think step by step on how to summarize the &lt;transcript&gt; within the provided &lt;sketchpad&gt;.

In the &lt;sketchpad&gt;, identify the &lt;key decisions&gt;, &lt;action items&gt;, and their &lt;owners&gt;.

Then, check that the &lt;sketchpad&gt; items are factually consistent with the &lt;transcript&gt;.

Finally, return a &lt;summary&gt; based on the &lt;sketchpad&gt;.
</code></pre>
                        </div>
                    </div>
                    <h2 id="using-the-stop-sequence">Using the stop sequence<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#using-the-stop-sequence"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>The stop sequence parameter allows us to specify words or phrases that signal the end of the
                        desired output. This prevents trailing text, reduces latency, and makes the model’s responses
                        easier to parse. When working with Claude, the convenient option is to use the closing XML tag
                        (e.g., <code class="language-plaintext highlighter-rouge">&lt;/attributes&gt;</code>) as the
                        stop sequence.</p>
                    <div class="language-python highlighter-rouge">
                        <div class="highlight">
                            <pre class="highlight"><code><span class="nb">input</span> <span class="o">=</span> <span class="s">"""
&lt;description&gt;
The SmartHome Mini is a compact smart home assistant available in black or white for 
only $49.99. At just 5 inches wide, it lets you control lights, thermostats, and other 
connected devices via voice or app—no matter where you place it in your home. This 
affordable little hub brings convenient hands-free control to your smart devices.
&lt;/description&gt;

Extract the &lt;name&gt;, &lt;size&gt;, &lt;price&gt;, and &lt;color&gt; from this product &lt;description&gt;.

Return the extracted attributes within &lt;attributes&gt;.
"""</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">anthropic</span><span class="p">.</span><span class="n">Anthropic</span><span class="p">().</span><span class="n">messages</span><span class="p">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s">"claude-3-opus-20240229"</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span>
            <span class="s">"content"</span><span class="p">:</span> <span class="nb">input</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"role"</span><span class="p">:</span> <span class="s">"assistant"</span><span class="p">,</span>
            <span class="s">"content"</span><span class="p">:</span> <span class="s">"&lt;attributes&gt;&lt;name&gt;"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="n">stop_sequences</span><span class="o">=</span><span class="p">[</span><span class="s">"&lt;/attributes&gt;"</span><span class="p">]</span>  <span class="c1"># Added the stop sequence here
</span><span class="p">)</span>
</code></pre>
                        </div>
                    </div>
                    <h2 id="selecting-a-temperature">Selecting a temperature<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#selecting-a-temperature"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>The temperature parameter controls the “creativity” of a model’s output. It ranges from 0.0 to
                        1.0, with higher values resulting in more diverse and unpredictable responses while lower values
                        produce more focused and deterministic outputs. (Confusingly, OpenAI APIs allow <a
                            href="https://platform.openai.com/docs/guides/text-generation/how-should-i-set-the-temperature-parameter"
                            target="_blank">temperature values as high as 2.0</a>, but this is not the norm.)</p>
                    <p>My rule of thumb is to start with a temperature of 0.8 and then lower it as necessary. What we
                        want is the highest temperature that still leads to good results for the specific task.</p>
                    <p>Another heuristic is to use lower temperatures (closer to 0) for analytical or multiple-choice
                        tasks, and higher temperatures (closer to 1) for creative or open-ended tasks. Nonetheless, I’ve
                        found that too low a temperature reduces the model’s intelligence (thus my preferred approach of
                        starting from 0.8 and lowering it only if necessary). Also see Kyle Corbitt <a
                            href="https://x.com/corbtt/status/1801026166020833457" target="_blank">confirming this for
                            gpt-4</a> but <a href="https://x.com/corbtt/status/1801059164954775643" target="_blank">not
                            finetuned llama3-8b</a>.</p>
                    <h2 id="what-doesnt-seem-to-matter">What doesn’t seem to matter<a class="anchorjs-link "
                            aria-label="Anchor" data-anchorjs-icon="" href="#what-doesnt-seem-to-matter"
                            style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
                    <p>There are a few things that, based on my experience and discussions with others, don’t have a
                        practical impact on performance (at least for recent models):</p>
                    <ul>
                        <li>Courtesy: Adding phrases like “please” and “thank you” doesn’t affect output quality much,
                            even if it might earn us some goodwill with our future AI overlords.</li>
                        <li>Tips and threats: Recent models are generally good at following instructions without the
                            need to offer a “$200 tip” or threatening that we will “lose our job”.</li>
                    </ul>
                    <p>Of course, it doesn’t hurt to be polite or playful in our prompts. Nonetheless, it’s useful to
                        know that they’re not as critical for getting good results.</p>
                    <p class="image-caption">• • •</p>
                    <p>As LLMs continue to improve, prompt engineering will remain a valuable skill for getting the most
                        out of LLMs (though we may soon transition to <a
                            href="https://www.anthropic.com/news/mapping-mind-language-model"
                            target="_blank">“dictionary learning”</a>). What other prompting techniques have you found
                        useful? Please comment below or <a href="https://x.com/eugeneyan" target="_blank">reach out</a>!
                    </p>
                    <br>
                    <p>If you found this useful, please cite this write-up as:</p>
                    <blockquote class="blockquote-citation">
                        <p>Yan, Ziyou. (May 2024). Prompting Fundamentals and How to Apply them Effectively.
                            eugeneyan.com.
                            https://eugeneyan.com/writing/prompting/.</p>
                    </blockquote>
                    <p>or</p>
                    <div class="citation">
                        <pre><code>@article{yan2024prompting,
  title   = {Prompting Fundamentals and How to Apply them Effectively},
  author  = {Yan, Ziyou},
  journal = {eugeneyan.com},
  year    = {2024},
  month   = {May},
  url     = {https://eugeneyan.com/writing/prompting/}
}</code></pre>
                    </div>
                    <br>
                    <style>
                        #share-buttons {
                            display: inline-block;
                            vertical-align: middle;
                        }

                        #share-buttons:after {
                            content: "";
                            display: block;
                            clear: both;
                        }

                        #share-buttons>div {
                            position: relative;
                            text-align: left;
                            height: 36px;
                            width: 32px;
                            float: left;
                            text-align: center;
                        }

                        #share-buttons>div>svg {
                            height: 16px;
                            fill: #808080;
                            margin-top: 10px;
                        }

                        #share-buttons>div:hover {
                            cursor: pointer;
                        }
                    </style>
                    <span style="font-size: 18px">Share on: </span>
                    <div id="share-buttons">
                        <div class="twitter" title="Share this on Twitter"
                            onclick="window.open('https://twitter.com/intent/tweet?text=Great read! Prompting Fundamentals and How to Apply them Effectively&amp;url=https://eugeneyan.com/writing/prompting/&amp;via=eugeneyan', 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0');">
                            <img class="icon about-icon-large" src="/assets/icon-twitter.svg" loading="lazy" alt="">
                        </div>
                        <div class="linkedin" title="Share this on Linkedin"
                            onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&amp;url=https://eugeneyan.com/writing/prompting/&amp;source=eugeneyan.com', 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0');">
                            <img class="icon about-icon-large" src="/assets/icon-linkedin.svg" loading="lazy" alt="">
                        </div>
                        <div class="facebook fb-share-button" title="Share this on Facebook"
                            onclick="window.open('https://www.facebook.com/dialog/share?app_id=249237293114028&amp;display=popup&amp;href=https://eugeneyan.com/writing/prompting/&amp;&amp;redirect_uri=https://eugeneyan.com/writing/prompting/', 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0');">
                            <img class="icon about-icon-large" src="/assets/icon-facebook.svg" loading="lazy" alt="">
                        </div>
                        <div class="mail" title="Share this through Email"
                            onclick="window.open('mailto:?subject=Great read! Prompting Fundamentals and How to Apply them Effectively&amp;body=https://eugeneyan.com/writing/prompting/');">
                            <img class="icon about-icon-large" src="/assets/icon-mail.svg" loading="lazy" alt="">
                        </div>
                    </div>
                </div>

                <br>
                Browse related tags: <span class="no-italics">[
                    <a class="tag" href="/tag/llm/">llm</a>
                    <a class="tag" href="/tag/production/">production</a>
                    ] <p class="search-link"><a href="/search/" title="Search">
                            <img class="icon icon-search" src="/assets/icon-search.svg" loading="lazy" alt="">Search</a>

                    </p>
                    <div class="PageNavigation">
                        <a class="prev sans-serif" href="/writing/llm-lessons/">« What We've Learned From A Year of
                            Building with LLMs</a>
                        <a class="next sans-serif" href="/speaking/netflix-prs/">Netflix PRS 2024 - Applying LLMs to
                            Recommendation Experiences »</a>
                    </div>
                    <hr>
                    <p style="font-size: 15px; text-align: center; margin: 2em 0 0.5em">Join <b>7,700+</b> readers
                        getting updates on machine learning, RecSys, LLMs, and engineering.</p>
                    <script src="https://f.convertkit.com/ckjs/ck.6.js"></script>
                    <form action="https://app.convertkit.com/forms/4004980/subscriptions" class="seva-form formkit-form"
                        method="post" data-sv-form="4004980" data-uid="96a310b6ce" data-format="inline" data-version="6"
                        data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Just sent a confirmation! Look for an email from eugene@eugeneyan.com.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;fathom&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null,&quot;sparkloop&quot;:null,&quot;googletagmanager&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;powered_by&quot;:{&quot;show&quot;:false,&quot;url&quot;:&quot;https://convertkit.com/features/forms?utm_campaign=poweredby&amp;utm_content=form&amp;utm_medium=referral&amp;utm_source=dynamic&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:&quot;bottom_right&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;sticky_bar&quot;:{&quot;display_in&quot;:&quot;top&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15}},&quot;version&quot;:&quot;6&quot;}"
                        min-width="400 500 600 700">
                        <div data-style="clean">
                            <ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul>
                            <div data-element="fields" data-stacked="false" class="seva-fields formkit-fields">
                                <div class="formkit-field"><input class="formkit-input" name="email_address"
                                        style="color: rgb(0, 0, 0); border-color: rgb(227, 227, 227); border-radius: 4px; font-weight: 400;"
                                        aria-label="Your email address..." placeholder="Your email address..."
                                        required="" type="email"></div><button data-element="submit"
                                    class="formkit-submit formkit-submit"
                                    style="color: rgb(255, 255, 255); background-color: rgb(0, 123, 255); border-radius: 5px; font-weight: 400;">
                                    <div class="formkit-spinner">
                                        <div></div>
                                        <div></div>
                                        <div></div>
                                    </div><span class="">Get email updates</span>
                                </button>
                            </div>
                        </div>
                        <style>
                            .formkit-form[data-uid="96a310b6ce"] * {
                                box-sizing: border-box;
                            }

                            .formkit-form[data-uid="96a310b6ce"] {
                                -webkit-font-smoothing: antialiased;
                                -moz-osx-font-smoothing: grayscale;
                            }

                            .formkit-form[data-uid="96a310b6ce"] legend {
                                border: none;
                                font-size: inherit;
                                margin-bottom: 10px;
                                padding: 0;
                                position: relative;
                                display: table;
                            }

                            .formkit-form[data-uid="96a310b6ce"] fieldset {
                                border: 0;
                                padding: 0.01em 0 0 0;
                                margin: 0;
                                min-width: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] body:not(:-moz-handler-blocked) fieldset {
                                display: table-cell;
                            }

                            .formkit-form[data-uid="96a310b6ce"] h1,
                            .formkit-form[data-uid="96a310b6ce"] h2,
                            .formkit-form[data-uid="96a310b6ce"] h3,
                            .formkit-form[data-uid="96a310b6ce"] h4,
                            .formkit-form[data-uid="96a310b6ce"] h5,
                            .formkit-form[data-uid="96a310b6ce"] h6 {
                                color: inherit;
                                font-size: inherit;
                                font-weight: inherit;
                            }

                            .formkit-form[data-uid="96a310b6ce"] h2 {
                                font-size: 1.5em;
                                margin: 1em 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] h3 {
                                font-size: 1.17em;
                                margin: 1em 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] p {
                                color: inherit;
                                font-size: inherit;
                                font-weight: inherit;
                            }

                            .formkit-form[data-uid="96a310b6ce"] ol:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] ul:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] blockquote:not([template-default]) {
                                text-align: left;
                            }

                            .formkit-form[data-uid="96a310b6ce"] p:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] hr:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] blockquote:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] ol:not([template-default]),
                            .formkit-form[data-uid="96a310b6ce"] ul:not([template-default]) {
                                color: inherit;
                                font-style: initial;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .ordered-list,
                            .formkit-form[data-uid="96a310b6ce"] .unordered-list {
                                list-style-position: outside !important;
                                padding-left: 1em;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .list-item {
                                padding-left: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"][data-format="modal"] {
                                display: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"][data-format="slide in"] {
                                display: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"][data-format="sticky bar"] {
                                display: none;
                            }

                            .formkit-sticky-bar .formkit-form[data-uid="96a310b6ce"][data-format="sticky bar"] {
                                display: block;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-select,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-checkboxes {
                                width: 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-button,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit {
                                border: 0;
                                border-radius: 5px;
                                color: #ffffff;
                                cursor: pointer;
                                display: inline-block;
                                text-align: center;
                                font-size: 15px;
                                font-weight: 500;
                                cursor: pointer;
                                margin-bottom: 15px;
                                overflow: hidden;
                                padding: 0;
                                position: relative;
                                vertical-align: middle;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-button:hover,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit:hover,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-button:focus,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit:focus {
                                outline: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-button:hover>span,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit:hover>span,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-button:focus>span,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit:focus>span {
                                background-color: rgba(0, 0, 0, 0.1);
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-button>span,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit>span {
                                display: block;
                                -webkit-transition: all 300ms ease-in-out;
                                transition: all 300ms ease-in-out;
                                padding: 12px 24px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input {
                                background: #ffffff;
                                font-size: 15px;
                                padding: 12px;
                                border: 1px solid #e3e3e3;
                                -webkit-flex: 1 0 auto;
                                -ms-flex: 1 0 auto;
                                flex: 1 0 auto;
                                line-height: 1.4;
                                margin: 0;
                                -webkit-transition: border-color ease-out 300ms;
                                transition: border-color ease-out 300ms;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input:focus {
                                outline: none;
                                border-color: #1677be;
                                -webkit-transition: border-color ease 300ms;
                                transition: border-color ease 300ms;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input::-webkit-input-placeholder {
                                color: inherit;
                                opacity: 0.8;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input::-moz-placeholder {
                                color: inherit;
                                opacity: 0.8;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input:-ms-input-placeholder {
                                color: inherit;
                                opacity: 0.8;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-input::placeholder {
                                color: inherit;
                                opacity: 0.8;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="dropdown"] {
                                position: relative;
                                display: inline-block;
                                width: 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="dropdown"]::before {
                                content: "";
                                top: calc(50% - 2.5px);
                                right: 10px;
                                position: absolute;
                                pointer-events: none;
                                border-color: #4f4f4f transparent transparent transparent;
                                border-style: solid;
                                border-width: 6px 6px 0 6px;
                                height: 0;
                                width: 0;
                                z-index: 999;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="dropdown"] select {
                                height: auto;
                                width: 100%;
                                cursor: pointer;
                                color: #333333;
                                line-height: 1.4;
                                margin-bottom: 0;
                                padding: 0 6px;
                                -webkit-appearance: none;
                                -moz-appearance: none;
                                appearance: none;
                                font-size: 15px;
                                padding: 12px;
                                padding-right: 25px;
                                border: 1px solid #e3e3e3;
                                background: #ffffff;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="dropdown"] select:focus {
                                outline: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] {
                                text-align: left;
                                margin: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] {
                                margin-bottom: 10px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] * {
                                cursor: pointer;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"]:last-of-type {
                                margin-bottom: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"] {
                                display: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]+label::after {
                                content: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked+label::after {
                                border-color: #ffffff;
                                content: "";
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked+label::before {
                                background: #10bf7a;
                                border-color: #10bf7a;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] label {
                                position: relative;
                                display: inline-block;
                                padding-left: 28px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] label::before,
                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] label::after {
                                position: absolute;
                                content: "";
                                display: inline-block;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] label::before {
                                height: 16px;
                                width: 16px;
                                border: 1px solid #e3e3e3;
                                background: #ffffff;
                                left: 0px;
                                top: 3px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-group="checkboxes"] [data-group="checkbox"] label::after {
                                height: 4px;
                                width: 8px;
                                border-left: 2px solid #4d4d4d;
                                border-bottom: 2px solid #4d4d4d;
                                -webkit-transform: rotate(-45deg);
                                -ms-transform: rotate(-45deg);
                                transform: rotate(-45deg);
                                left: 4px;
                                top: 8px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-alert {
                                background: #f9fafb;
                                border: 1px solid #e3e3e3;
                                border-radius: 5px;
                                -webkit-flex: 1 0 auto;
                                -ms-flex: 1 0 auto;
                                flex: 1 0 auto;
                                list-style: none;
                                margin: 25px auto;
                                padding: 12px;
                                text-align: center;
                                width: 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-alert:empty {
                                display: none;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-alert-success {
                                background: #d3fbeb;
                                border-color: #10bf7a;
                                color: #0c905c;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-alert-error {
                                background: #fde8e2;
                                border-color: #f2643b;
                                color: #ea4110;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-spinner {
                                display: -webkit-box;
                                display: -webkit-flex;
                                display: -ms-flexbox;
                                display: flex;
                                height: 0px;
                                width: 0px;
                                margin: 0 auto;
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                width: 0px;
                                overflow: hidden;
                                text-align: center;
                                -webkit-transition: all 300ms ease-in-out;
                                transition: all 300ms ease-in-out;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-spinner>div {
                                margin: auto;
                                width: 12px;
                                height: 12px;
                                background-color: #fff;
                                opacity: 0.3;
                                border-radius: 100%;
                                display: inline-block;
                                -webkit-animation: formkit-bouncedelay-formkit-form-data-uid-96a310b6ce- 1.4s infinite ease-in-out both;
                                animation: formkit-bouncedelay-formkit-form-data-uid-96a310b6ce- 1.4s infinite ease-in-out both;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-spinner>div:nth-child(1) {
                                -webkit-animation-delay: -0.32s;
                                animation-delay: -0.32s;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-spinner>div:nth-child(2) {
                                -webkit-animation-delay: -0.16s;
                                animation-delay: -0.16s;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit[data-active] .formkit-spinner {
                                opacity: 1;
                                height: 100%;
                                width: 50px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit[data-active] .formkit-spinner~span {
                                opacity: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by[data-active="false"] {
                                opacity: 0.35;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit-container {
                                display: -webkit-box;
                                display: -webkit-flex;
                                display: -ms-flexbox;
                                display: flex;
                                width: 100%;
                                z-index: 5;
                                margin: 10px 0;
                                position: relative;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit-container[data-active="false"] {
                                opacity: 0.35;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit {
                                -webkit-align-items: center;
                                -webkit-box-align: center;
                                -ms-flex-align: center;
                                align-items: center;
                                background-color: #ffffff;
                                border: 1px solid #dde2e7;
                                border-radius: 4px;
                                color: #373f45;
                                cursor: pointer;
                                display: block;
                                height: 36px;
                                margin: 0 auto;
                                opacity: 0.95;
                                padding: 0;
                                -webkit-text-decoration: none;
                                text-decoration: none;
                                text-indent: 100%;
                                -webkit-transition: ease-in-out all 200ms;
                                transition: ease-in-out all 200ms;
                                white-space: nowrap;
                                overflow: hidden;
                                -webkit-user-select: none;
                                -moz-user-select: none;
                                -ms-user-select: none;
                                user-select: none;
                                width: 190px;
                                background-repeat: no-repeat;
                                background-position: center;
                                background-image: url("data:image/svg+xml;charset=utf8,%3Csvg width='162' height='20' viewBox='0 0 162 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M83.0561 15.2457C86.675 15.2457 89.4722 12.5154 89.4722 9.14749C89.4722 5.99211 86.8443 4.06563 85.1038 4.06563C82.6801 4.06563 80.7373 5.76407 80.4605 8.28551C80.4092 8.75244 80.0387 9.14403 79.5686 9.14069C78.7871 9.13509 77.6507 9.12841 76.9314 9.13092C76.6217 9.13199 76.3658 8.88106 76.381 8.57196C76.4895 6.38513 77.2218 4.3404 78.618 2.76974C80.1695 1.02445 82.4289 0 85.1038 0C89.5979 0 93.8406 4.07791 93.8406 9.14749C93.8406 14.7608 89.1832 19.3113 83.1517 19.3113C78.8502 19.3113 74.5179 16.5041 73.0053 12.5795C72.9999 12.565 72.9986 12.5492 73.0015 12.534C73.0218 12.4179 73.0617 12.3118 73.1011 12.2074C73.1583 12.0555 73.2143 11.907 73.2062 11.7359L73.18 11.1892C73.174 11.0569 73.2075 10.9258 73.2764 10.8127C73.3452 10.6995 73.4463 10.6094 73.5666 10.554L73.7852 10.4523C73.9077 10.3957 74.0148 10.3105 74.0976 10.204C74.1803 10.0974 74.2363 9.97252 74.2608 9.83983C74.3341 9.43894 74.6865 9.14749 75.0979 9.14749C75.7404 9.14749 76.299 9.57412 76.5088 10.1806C77.5188 13.1 79.1245 15.2457 83.0561 15.2457Z' fill='%23373F45'/%3E%3Cpath d='M155.758 6.91365C155.028 6.91365 154.804 6.47916 154.804 5.98857C154.804 5.46997 154.986 5.06348 155.758 5.06348C156.53 5.06348 156.712 5.46997 156.712 5.98857C156.712 6.47905 156.516 6.91365 155.758 6.91365ZM142.441 12.9304V9.32833L141.415 9.32323V8.90392C141.415 8.44719 141.786 8.07758 142.244 8.07986L142.441 8.08095V6.55306L144.082 6.09057V8.08073H145.569V8.50416C145.569 8.61242 145.548 8.71961 145.506 8.81961C145.465 8.91961 145.404 9.01047 145.328 9.08699C145.251 9.16351 145.16 9.2242 145.06 9.26559C144.96 9.30698 144.853 9.32826 144.745 9.32822H144.082V12.7201C144.082 13.2423 144.378 13.4256 144.76 13.4887C145.209 13.5629 145.583 13.888 145.583 14.343V14.9626C144.029 14.9626 142.441 14.8942 142.441 12.9304Z' fill='%23373F45'/%3E%3Cpath d='M110.058 7.92554C108.417 7.88344 106.396 8.92062 106.396 11.5137C106.396 14.0646 108.417 15.0738 110.058 15.0318C111.742 15.0738 113.748 14.0646 113.748 11.5137C113.748 8.92062 111.742 7.88344 110.058 7.92554ZM110.07 13.7586C108.878 13.7586 108.032 12.8905 108.032 11.461C108.032 10.1013 108.878 9.20569 110.071 9.20569C111.263 9.20569 112.101 10.0995 112.101 11.459C112.101 12.8887 111.263 13.7586 110.07 13.7586Z' fill='%23373F45'/%3E%3Cpath d='M118.06 7.94098C119.491 7.94098 120.978 8.33337 120.978 11.1366V14.893H120.063C119.608 14.893 119.238 14.524 119.238 14.0689V10.9965C119.238 9.66506 118.747 9.16047 117.891 9.16047C117.414 9.16047 116.797 9.52486 116.502 9.81915V14.069C116.502 14.1773 116.481 14.2845 116.44 14.3845C116.398 14.4845 116.337 14.5753 116.261 14.6519C116.184 14.7284 116.093 14.7891 115.993 14.8305C115.893 14.8719 115.786 14.8931 115.678 14.8931H114.847V8.10918H115.773C115.932 8.10914 116.087 8.16315 116.212 8.26242C116.337 8.36168 116.424 8.50033 116.46 8.65577C116.881 8.19328 117.428 7.94098 118.06 7.94098ZM122.854 8.09713C123.024 8.09708 123.19 8.1496 123.329 8.2475C123.468 8.34541 123.574 8.48391 123.631 8.64405L125.133 12.8486L126.635 8.64415C126.692 8.48402 126.798 8.34551 126.937 8.2476C127.076 8.1497 127.242 8.09718 127.412 8.09724H128.598L126.152 14.3567C126.091 14.5112 125.986 14.6439 125.849 14.7374C125.711 14.831 125.549 14.881 125.383 14.8809H124.333L121.668 8.09713H122.854Z' fill='%23373F45'/%3E%3Cpath d='M135.085 14.5514C134.566 14.7616 133.513 15.0416 132.418 15.0416C130.496 15.0416 129.024 13.9345 129.024 11.4396C129.024 9.19701 130.451 7.99792 132.191 7.99792C134.338 7.99792 135.254 9.4378 135.158 11.3979C135.139 11.8029 134.786 12.0983 134.38 12.0983H130.679C130.763 13.1916 131.562 13.7662 132.615 13.7662C133.028 13.7662 133.462 13.7452 133.983 13.6481C134.535 13.545 135.085 13.9375 135.085 14.4985V14.5514ZM133.673 10.949C133.785 9.87621 133.061 9.28752 132.191 9.28752C131.321 9.28752 130.734 9.93979 130.679 10.9489L133.673 10.949Z' fill='%23373F45'/%3E%3Cpath d='M137.345 8.11122C137.497 8.11118 137.645 8.16229 137.765 8.25635C137.884 8.35041 137.969 8.48197 138.005 8.62993C138.566 8.20932 139.268 7.94303 139.759 7.94303C139.801 7.94303 140.068 7.94303 140.489 7.99913V8.7265C140.489 9.11748 140.15 9.4147 139.759 9.4147C139.31 9.4147 138.651 9.5829 138.131 9.8773V14.8951H136.462V8.11112L137.345 8.11122ZM156.6 14.0508V8.09104H155.769C155.314 8.09104 154.944 8.45999 154.944 8.9151V14.8748H155.775C156.23 14.8748 156.6 14.5058 156.6 14.0508ZM158.857 12.9447V9.34254H157.749V8.91912C157.749 8.46401 158.118 8.09506 158.574 8.09506H158.857V6.56739L160.499 6.10479V8.09506H161.986V8.51848C161.986 8.97359 161.617 9.34254 161.161 9.34254H160.499V12.7345C160.499 13.2566 160.795 13.44 161.177 13.503C161.626 13.5774 162 13.9024 162 14.3574V14.977C160.446 14.977 158.857 14.9086 158.857 12.9447ZM98.1929 10.1124C98.2033 6.94046 100.598 5.16809 102.895 5.16809C104.171 5.16809 105.342 5.44285 106.304 6.12953L105.914 6.6631C105.654 7.02011 105.16 7.16194 104.749 6.99949C104.169 6.7702 103.622 6.7218 103.215 6.7218C101.335 6.7218 99.9169 7.92849 99.9068 10.1123C99.9169 12.2959 101.335 13.5201 103.215 13.5201C103.622 13.5201 104.169 13.4717 104.749 13.2424C105.16 13.0799 105.654 13.2046 105.914 13.5615L106.304 14.0952C105.342 14.7819 104.171 15.0566 102.895 15.0566C100.598 15.0566 98.2033 13.2842 98.1929 10.1124ZM147.619 5.21768C148.074 5.21768 148.444 5.58663 148.444 6.04174V9.81968L151.82 5.58131C151.897 5.47733 151.997 5.39282 152.112 5.3346C152.227 5.27638 152.355 5.24607 152.484 5.24611H153.984L150.166 10.0615L153.984 14.8749H152.484C152.355 14.8749 152.227 14.8446 152.112 14.7864C151.997 14.7281 151.897 14.6436 151.82 14.5397L148.444 10.3025V14.0508C148.444 14.5059 148.074 14.8749 147.619 14.8749H146.746V5.21768H147.619Z' fill='%23373F45'/%3E%3Cpath d='M0.773438 6.5752H2.68066C3.56543 6.5752 4.2041 6.7041 4.59668 6.96191C4.99219 7.21973 5.18994 7.62695 5.18994 8.18359C5.18994 8.55859 5.09326 8.87061 4.8999 9.11963C4.70654 9.36865 4.42822 9.52539 4.06494 9.58984V9.63379C4.51611 9.71875 4.84717 9.88721 5.05811 10.1392C5.27197 10.3882 5.37891 10.7266 5.37891 11.1543C5.37891 11.7314 5.17676 12.1841 4.77246 12.5122C4.37109 12.8374 3.81152 13 3.09375 13H0.773438V6.5752ZM1.82373 9.22949H2.83447C3.27393 9.22949 3.59473 9.16064 3.79688 9.02295C3.99902 8.88232 4.1001 8.64502 4.1001 8.31104C4.1001 8.00928 3.99023 7.79102 3.77051 7.65625C3.55371 7.52148 3.20801 7.4541 2.7334 7.4541H1.82373V9.22949ZM1.82373 10.082V12.1167H2.93994C3.37939 12.1167 3.71045 12.0332 3.93311 11.8662C4.15869 11.6963 4.27148 11.4297 4.27148 11.0664C4.27148 10.7324 4.15723 10.4849 3.92871 10.3237C3.7002 10.1626 3.35303 10.082 2.88721 10.082H1.82373Z' fill='%23373F45'/%3E%3Cpath d='M13.011 6.5752V10.7324C13.011 11.207 12.9084 11.623 12.7034 11.9805C12.5012 12.335 12.2068 12.6089 11.8201 12.8022C11.4363 12.9927 10.9763 13.0879 10.4402 13.0879C9.6433 13.0879 9.02368 12.877 8.5813 12.4551C8.13892 12.0332 7.91772 11.4531 7.91772 10.7148V6.5752H8.9724V10.6401C8.9724 11.1704 9.09546 11.5615 9.34155 11.8135C9.58765 12.0654 9.96557 12.1914 10.4753 12.1914C11.4656 12.1914 11.9607 11.6714 11.9607 10.6313V6.5752H13.011Z' fill='%23373F45'/%3E%3Cpath d='M15.9146 13V6.5752H16.9649V13H15.9146Z' fill='%23373F45'/%3E%3Cpath d='M19.9255 13V6.5752H20.9758V12.0991H23.696V13H19.9255Z' fill='%23373F45'/%3E%3Cpath d='M28.2828 13H27.2325V7.47607H25.3428V6.5752H30.1724V7.47607H28.2828V13Z' fill='%23373F45'/%3E%3Cpath d='M41.9472 13H40.8046L39.7148 9.16796C39.6679 9.00097 39.6093 8.76074 39.539 8.44727C39.4687 8.13086 39.4262 7.91113 39.4116 7.78809C39.3823 7.97559 39.3339 8.21875 39.2665 8.51758C39.2021 8.81641 39.1479 9.03905 39.1039 9.18554L38.0405 13H36.8979L36.0673 9.7832L35.2236 6.5752H36.2958L37.2143 10.3193C37.3578 10.9199 37.4604 11.4502 37.5219 11.9102C37.5541 11.6611 37.6025 11.3828 37.6669 11.0752C37.7314 10.7676 37.79 10.5186 37.8427 10.3281L38.8886 6.5752H39.9301L41.0024 10.3457C41.1049 10.6943 41.2133 11.2158 41.3276 11.9102C41.3715 11.4912 41.477 10.958 41.644 10.3105L42.558 6.5752H43.6215L41.9472 13Z' fill='%23373F45'/%3E%3Cpath d='M45.7957 13V6.5752H46.846V13H45.7957Z' fill='%23373F45'/%3E%3Cpath d='M52.0258 13H50.9755V7.47607H49.0859V6.5752H53.9155V7.47607H52.0258V13Z' fill='%23373F45'/%3E%3Cpath d='M61.2312 13H60.1765V10.104H57.2146V13H56.1643V6.5752H57.2146V9.20312H60.1765V6.5752H61.2312V13Z' fill='%23373F45'/%3E%3C/svg%3E");
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit:hover,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit:focus {
                                background-color: #ffffff;
                                -webkit-transform: scale(1.025) perspective(1px);
                                -ms-transform: scale(1.025) perspective(1px);
                                transform: scale(1.025) perspective(1px);
                                opacity: 1;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit[data-variant="dark"],
                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit[data-variant="light"] {
                                background-color: transparent;
                                border-color: transparent;
                                width: 166px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit[data-variant="light"] {
                                color: #ffffff;
                                background-image: url("data:image/svg+xml;charset=utf8,%3Csvg width='162' height='20' viewBox='0 0 162 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M83.0561 15.2457C86.675 15.2457 89.4722 12.5154 89.4722 9.14749C89.4722 5.99211 86.8443 4.06563 85.1038 4.06563C82.6801 4.06563 80.7373 5.76407 80.4605 8.28551C80.4092 8.75244 80.0387 9.14403 79.5686 9.14069C78.7871 9.13509 77.6507 9.12841 76.9314 9.13092C76.6217 9.13199 76.3658 8.88106 76.381 8.57196C76.4895 6.38513 77.2218 4.3404 78.618 2.76974C80.1695 1.02445 82.4289 0 85.1038 0C89.5979 0 93.8406 4.07791 93.8406 9.14749C93.8406 14.7608 89.1832 19.3113 83.1517 19.3113C78.8502 19.3113 74.5179 16.5041 73.0053 12.5795C72.9999 12.565 72.9986 12.5492 73.0015 12.534C73.0218 12.4179 73.0617 12.3118 73.1011 12.2074C73.1583 12.0555 73.2143 11.907 73.2062 11.7359L73.18 11.1892C73.174 11.0569 73.2075 10.9258 73.2764 10.8127C73.3452 10.6995 73.4463 10.6094 73.5666 10.554L73.7852 10.4523C73.9077 10.3957 74.0148 10.3105 74.0976 10.204C74.1803 10.0974 74.2363 9.97252 74.2608 9.83983C74.3341 9.43894 74.6865 9.14749 75.0979 9.14749C75.7404 9.14749 76.299 9.57412 76.5088 10.1806C77.5188 13.1 79.1245 15.2457 83.0561 15.2457Z' fill='white'/%3E%3Cpath d='M155.758 6.91365C155.028 6.91365 154.804 6.47916 154.804 5.98857C154.804 5.46997 154.986 5.06348 155.758 5.06348C156.53 5.06348 156.712 5.46997 156.712 5.98857C156.712 6.47905 156.516 6.91365 155.758 6.91365ZM142.441 12.9304V9.32833L141.415 9.32323V8.90392C141.415 8.44719 141.786 8.07758 142.244 8.07986L142.441 8.08095V6.55306L144.082 6.09057V8.08073H145.569V8.50416C145.569 8.61242 145.548 8.71961 145.506 8.81961C145.465 8.91961 145.404 9.01047 145.328 9.08699C145.251 9.16351 145.16 9.2242 145.06 9.26559C144.96 9.30698 144.853 9.32826 144.745 9.32822H144.082V12.7201C144.082 13.2423 144.378 13.4256 144.76 13.4887C145.209 13.5629 145.583 13.888 145.583 14.343V14.9626C144.029 14.9626 142.441 14.8942 142.441 12.9304Z' fill='white'/%3E%3Cpath d='M110.058 7.92554C108.417 7.88344 106.396 8.92062 106.396 11.5137C106.396 14.0646 108.417 15.0738 110.058 15.0318C111.742 15.0738 113.748 14.0646 113.748 11.5137C113.748 8.92062 111.742 7.88344 110.058 7.92554ZM110.07 13.7586C108.878 13.7586 108.032 12.8905 108.032 11.461C108.032 10.1013 108.878 9.20569 110.071 9.20569C111.263 9.20569 112.101 10.0995 112.101 11.459C112.101 12.8887 111.263 13.7586 110.07 13.7586Z' fill='white'/%3E%3Cpath d='M118.06 7.94098C119.491 7.94098 120.978 8.33337 120.978 11.1366V14.893H120.063C119.608 14.893 119.238 14.524 119.238 14.0689V10.9965C119.238 9.66506 118.747 9.16047 117.891 9.16047C117.414 9.16047 116.797 9.52486 116.502 9.81915V14.069C116.502 14.1773 116.481 14.2845 116.44 14.3845C116.398 14.4845 116.337 14.5753 116.261 14.6519C116.184 14.7284 116.093 14.7891 115.993 14.8305C115.893 14.8719 115.786 14.8931 115.678 14.8931H114.847V8.10918H115.773C115.932 8.10914 116.087 8.16315 116.212 8.26242C116.337 8.36168 116.424 8.50033 116.46 8.65577C116.881 8.19328 117.428 7.94098 118.06 7.94098ZM122.854 8.09713C123.024 8.09708 123.19 8.1496 123.329 8.2475C123.468 8.34541 123.574 8.48391 123.631 8.64405L125.133 12.8486L126.635 8.64415C126.692 8.48402 126.798 8.34551 126.937 8.2476C127.076 8.1497 127.242 8.09718 127.412 8.09724H128.598L126.152 14.3567C126.091 14.5112 125.986 14.6439 125.849 14.7374C125.711 14.831 125.549 14.881 125.383 14.8809H124.333L121.668 8.09713H122.854Z' fill='white'/%3E%3Cpath d='M135.085 14.5514C134.566 14.7616 133.513 15.0416 132.418 15.0416C130.496 15.0416 129.024 13.9345 129.024 11.4396C129.024 9.19701 130.451 7.99792 132.191 7.99792C134.338 7.99792 135.254 9.4378 135.158 11.3979C135.139 11.8029 134.786 12.0983 134.38 12.0983H130.679C130.763 13.1916 131.562 13.7662 132.615 13.7662C133.028 13.7662 133.462 13.7452 133.983 13.6481C134.535 13.545 135.085 13.9375 135.085 14.4985V14.5514ZM133.673 10.949C133.785 9.87621 133.061 9.28752 132.191 9.28752C131.321 9.28752 130.734 9.93979 130.679 10.9489L133.673 10.949Z' fill='white'/%3E%3Cpath d='M137.345 8.11122C137.497 8.11118 137.645 8.16229 137.765 8.25635C137.884 8.35041 137.969 8.48197 138.005 8.62993C138.566 8.20932 139.268 7.94303 139.759 7.94303C139.801 7.94303 140.068 7.94303 140.489 7.99913V8.7265C140.489 9.11748 140.15 9.4147 139.759 9.4147C139.31 9.4147 138.651 9.5829 138.131 9.8773V14.8951H136.462V8.11112L137.345 8.11122ZM156.6 14.0508V8.09104H155.769C155.314 8.09104 154.944 8.45999 154.944 8.9151V14.8748H155.775C156.23 14.8748 156.6 14.5058 156.6 14.0508ZM158.857 12.9447V9.34254H157.749V8.91912C157.749 8.46401 158.118 8.09506 158.574 8.09506H158.857V6.56739L160.499 6.10479V8.09506H161.986V8.51848C161.986 8.97359 161.617 9.34254 161.161 9.34254H160.499V12.7345C160.499 13.2566 160.795 13.44 161.177 13.503C161.626 13.5774 162 13.9024 162 14.3574V14.977C160.446 14.977 158.857 14.9086 158.857 12.9447ZM98.1929 10.1124C98.2033 6.94046 100.598 5.16809 102.895 5.16809C104.171 5.16809 105.342 5.44285 106.304 6.12953L105.914 6.6631C105.654 7.02011 105.16 7.16194 104.749 6.99949C104.169 6.7702 103.622 6.7218 103.215 6.7218C101.335 6.7218 99.9169 7.92849 99.9068 10.1123C99.9169 12.2959 101.335 13.5201 103.215 13.5201C103.622 13.5201 104.169 13.4717 104.749 13.2424C105.16 13.0799 105.654 13.2046 105.914 13.5615L106.304 14.0952C105.342 14.7819 104.171 15.0566 102.895 15.0566C100.598 15.0566 98.2033 13.2842 98.1929 10.1124ZM147.619 5.21768C148.074 5.21768 148.444 5.58663 148.444 6.04174V9.81968L151.82 5.58131C151.897 5.47733 151.997 5.39282 152.112 5.3346C152.227 5.27638 152.355 5.24607 152.484 5.24611H153.984L150.166 10.0615L153.984 14.8749H152.484C152.355 14.8749 152.227 14.8446 152.112 14.7864C151.997 14.7281 151.897 14.6436 151.82 14.5397L148.444 10.3025V14.0508C148.444 14.5059 148.074 14.8749 147.619 14.8749H146.746V5.21768H147.619Z' fill='white'/%3E%3Cpath d='M0.773438 6.5752H2.68066C3.56543 6.5752 4.2041 6.7041 4.59668 6.96191C4.99219 7.21973 5.18994 7.62695 5.18994 8.18359C5.18994 8.55859 5.09326 8.87061 4.8999 9.11963C4.70654 9.36865 4.42822 9.52539 4.06494 9.58984V9.63379C4.51611 9.71875 4.84717 9.88721 5.05811 10.1392C5.27197 10.3882 5.37891 10.7266 5.37891 11.1543C5.37891 11.7314 5.17676 12.1841 4.77246 12.5122C4.37109 12.8374 3.81152 13 3.09375 13H0.773438V6.5752ZM1.82373 9.22949H2.83447C3.27393 9.22949 3.59473 9.16064 3.79688 9.02295C3.99902 8.88232 4.1001 8.64502 4.1001 8.31104C4.1001 8.00928 3.99023 7.79102 3.77051 7.65625C3.55371 7.52148 3.20801 7.4541 2.7334 7.4541H1.82373V9.22949ZM1.82373 10.082V12.1167H2.93994C3.37939 12.1167 3.71045 12.0332 3.93311 11.8662C4.15869 11.6963 4.27148 11.4297 4.27148 11.0664C4.27148 10.7324 4.15723 10.4849 3.92871 10.3237C3.7002 10.1626 3.35303 10.082 2.88721 10.082H1.82373Z' fill='white'/%3E%3Cpath d='M13.011 6.5752V10.7324C13.011 11.207 12.9084 11.623 12.7034 11.9805C12.5012 12.335 12.2068 12.6089 11.8201 12.8022C11.4363 12.9927 10.9763 13.0879 10.4402 13.0879C9.6433 13.0879 9.02368 12.877 8.5813 12.4551C8.13892 12.0332 7.91772 11.4531 7.91772 10.7148V6.5752H8.9724V10.6401C8.9724 11.1704 9.09546 11.5615 9.34155 11.8135C9.58765 12.0654 9.96557 12.1914 10.4753 12.1914C11.4656 12.1914 11.9607 11.6714 11.9607 10.6313V6.5752H13.011Z' fill='white'/%3E%3Cpath d='M15.9146 13V6.5752H16.9649V13H15.9146Z' fill='white'/%3E%3Cpath d='M19.9255 13V6.5752H20.9758V12.0991H23.696V13H19.9255Z' fill='white'/%3E%3Cpath d='M28.2828 13H27.2325V7.47607H25.3428V6.5752H30.1724V7.47607H28.2828V13Z' fill='white'/%3E%3Cpath d='M41.9472 13H40.8046L39.7148 9.16796C39.6679 9.00097 39.6093 8.76074 39.539 8.44727C39.4687 8.13086 39.4262 7.91113 39.4116 7.78809C39.3823 7.97559 39.3339 8.21875 39.2665 8.51758C39.2021 8.81641 39.1479 9.03905 39.1039 9.18554L38.0405 13H36.8979L36.0673 9.7832L35.2236 6.5752H36.2958L37.2143 10.3193C37.3578 10.9199 37.4604 11.4502 37.5219 11.9102C37.5541 11.6611 37.6025 11.3828 37.6669 11.0752C37.7314 10.7676 37.79 10.5186 37.8427 10.3281L38.8886 6.5752H39.9301L41.0024 10.3457C41.1049 10.6943 41.2133 11.2158 41.3276 11.9102C41.3715 11.4912 41.477 10.958 41.644 10.3105L42.558 6.5752H43.6215L41.9472 13Z' fill='white'/%3E%3Cpath d='M45.7957 13V6.5752H46.846V13H45.7957Z' fill='white'/%3E%3Cpath d='M52.0258 13H50.9755V7.47607H49.0859V6.5752H53.9155V7.47607H52.0258V13Z' fill='white'/%3E%3Cpath d='M61.2312 13H60.1765V10.104H57.2146V13H56.1643V6.5752H57.2146V9.20312H60.1765V6.5752H61.2312V13Z' fill='white'/%3E%3C/svg%3E");
                            }

                            @-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-96a310b6ce- {

                                0%,
                                80%,
                                100% {
                                    -webkit-transform: scale(0);
                                    -ms-transform: scale(0);
                                    transform: scale(0);
                                }

                                40% {
                                    -webkit-transform: scale(1);
                                    -ms-transform: scale(1);
                                    transform: scale(1);
                                }
                            }

                            @keyframes formkit-bouncedelay-formkit-form-data-uid-96a310b6ce- {

                                0%,
                                80%,
                                100% {
                                    -webkit-transform: scale(0);
                                    -ms-transform: scale(0);
                                    transform: scale(0);
                                }

                                40% {
                                    -webkit-transform: scale(1);
                                    -ms-transform: scale(1);
                                    transform: scale(1);
                                }
                            }

                            .formkit-form[data-uid="96a310b6ce"] blockquote {
                                padding: 10px 20px;
                                margin: 0 0 20px;
                                border-left: 5px solid #e1e1e1;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .seva-custom-content {
                                padding: 15px;
                                font-size: 16px;
                                color: #fff;
                                mix-blend-mode: difference;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-modal.guard {
                                max-width: 420px;
                                width: 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] {
                                max-width: 700px;
                            }

                            .formkit-form[data-uid="96a310b6ce"] [data-style="clean"] {
                                width: 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-fields {
                                display: -webkit-box;
                                display: -webkit-flex;
                                display: -ms-flexbox;
                                display: flex;
                                -webkit-flex-wrap: wrap;
                                -ms-flex-wrap: wrap;
                                flex-wrap: wrap;
                                margin: 0 auto;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-field,
                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit {
                                margin: 0 0 15px 0;
                                -webkit-flex: 1 0 100%;
                                -ms-flex: 1 0 100%;
                                flex: 1 0 100%;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-powered-by-convertkit-container {
                                margin: 0;
                            }

                            .formkit-form[data-uid="96a310b6ce"] .formkit-submit {
                                position: static;
                            }

                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] [data-style="clean"],
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] [data-style="clean"] {
                                padding: 10px;
                            }

                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] .formkit-fields[data-stacked="false"],
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] .formkit-fields[data-stacked="false"] {
                                margin-left: -5px;
                                margin-right: -5px;
                            }

                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] .formkit-fields[data-stacked="false"] .formkit-field,
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] .formkit-fields[data-stacked="false"] .formkit-field,
                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] .formkit-fields[data-stacked="false"] .formkit-submit,
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] .formkit-fields[data-stacked="false"] .formkit-submit {
                                margin: 0 5px 15px 5px;
                            }

                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] .formkit-fields[data-stacked="false"] .formkit-field,
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] .formkit-fields[data-stacked="false"] .formkit-field {
                                -webkit-flex: 100 1 auto;
                                -ms-flex: 100 1 auto;
                                flex: 100 1 auto;
                            }

                            .formkit-form[data-uid="96a310b6ce"][min-width~="700"] .formkit-fields[data-stacked="false"] .formkit-submit,
                            .formkit-form[data-uid="96a310b6ce"][min-width~="800"] .formkit-fields[data-stacked="false"] .formkit-submit {
                                -webkit-flex: 1 1 auto;
                                -ms-flex: 1 1 auto;
                                flex: 1 1 auto;
                            }
                        </style>
                    </form>
                    <hr>

                    <div class="utterances" style="height: 2895px;">
                        <iframe class="utterances-frame" title="Comments" scrolling="no"
                            src="https://utteranc.es/utterances.html?src=https%3A%2F%2Futteranc.es%2Fclient.js&amp;repo=eugeneyan%2Feugeneyan-comments&amp;issue-term=url&amp;theme=github-light&amp;crossorigin=anonymous&amp;url=https%3A%2F%2Feugeneyan.com%2Fwriting%2Fprompting%2F&amp;origin=https%3A%2F%2Feugeneyan.com&amp;pathname=writing%2Fprompting%2F&amp;title=Prompting+Fundamentals+and+How+to+Apply+them+Effectively&amp;description=Structured+input%2Foutput%2C+prefilling%2C+n-shots+prompting%2C+chain-of-thought%2C+reducing+hallucinations%2C+etc.&amp;og%3Atitle=Prompting+Fundamentals+and+How+to+Apply+them+Effectively&amp;session="
                            loading="lazy"></iframe>
                    </div>
                </span>
            </div>
        </div>
        <footer class="footer">
            <div class="footer-col-wrapper">
                <div class="col-sm-3 footer-col">
                    <ul class="contact-list">




                        <li>
                            <img class="icon" src="/assets/icon-twitter.svg" loading="lazy" alt="">
                            <a href="https://twitter.com/eugeneyan" target="_blank" title="Twitter">Twitter</a>
                        </li>
                        <li>
                            <img class="icon" src="/assets/icon-linkedin.svg" loading="lazy" alt="">
                            <a href="https://www.linkedin.com/in/eugeneyan/" target="_blank"
                                title="Linkedin">LinkedIn</a>
                        </li>
                        <li>
                            <img class="icon" src="/assets/icon-threads.svg" loading="lazy" alt="">
                            <a href="https://www.threads.net/@eugeneyan" target="_blank" title="Threads">Threads</a>
                        </li>
                        <li>
                            <img class="icon" src="/assets/icon-github.svg" loading="lazy" alt="">
                            <a href="https://github.com/eugeneyan/" target="_blank" title="GitHub">GitHub</a>
                        </li>




                    </ul>
                </div>
                <div class="col-sm-9 footer-col">
                    <p>
                        Eugene Yan designs, builds, and operates machine learning systems that serve customers at scale.
                        He's currently a Senior Applied Scientist at Amazon. Previously, he led machine learning at
                        Lazada
                        (acquired by Alibaba) and a Healthtech Series A. He <a href="/writing/">writes</a> &amp;
                        <a href="/speaking/">speaks</a> about machine learning, recommenders, LLMs, and engineering
                        at <a href="https://eugeneyan.com/" target="_blank">eugeneyan.com</a> and
                        <a href="https://applyingml.com/" target="_blank">ApplyingML.com</a>.
                    </p>
                </div>
            </div>
            <p class="copyright">© Eugene Yan 2015 - 2024
                • <a href="/site-feedback/">Feedback</a>
                • <a href="/rss/">RSS</a></p>
        </footer>
    </div>
</div>